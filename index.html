<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Conditions d'utilisation</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background: linear-gradient(135deg, #e3f2fd, #f3e5f5);
      height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: "Inter", "Segoe UI", sans-serif;
    }

    .card {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(10px);
      border: none;
      border-radius: 20px;
      box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15);
      text-align: center;
      padding: 2rem;
      width: 90%;
      max-width: 380px;
    }

    .btn {
      border-radius: 10px;
      font-weight: 500;
    }

    .modal-content {
      border-radius: 15px;
      background-color: #ffffffee;
      backdrop-filter: blur(5px);
    }

    .modal-body {
      max-height: 65vh;
      overflow-y: auto;
      font-size: 0.95rem;
    }

    .modal-body::-webkit-scrollbar {
      width: 6px;
    }

    .modal-body::-webkit-scrollbar-thumb {
      background-color: #aaa;
      border-radius: 4px;
    }

    strong {
      color: #1a237e;
    }

    .modal-title {
      color: #0d47a1;
    }
  </style>
</head>
<body>
  <div class="card">
    <h4 class="mb-3 fw-semibold">Acceptez-vous les conditions ?</h4>
    <div class="d-flex justify-content-center gap-3 mt-3">
      <button class="btn btn-success px-4" onclick="acceptWithoutReading()">J'accepte</button>
      <button class="btn btn-primary px-4" data-bs-toggle="modal" data-bs-target="#termsModal">Lire</button>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="termsModal" tabindex="-1" aria-labelledby="termsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title fw-semibold" id="termsModalLabel">Conditions G√©n√©rales d'Utilisation</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>
        <div class="modal-body text-start">

          <p><strong>Article 1 ‚Äî Objet</strong><br>
          Les pr√©sentes conditions d√©finissent les modalit√©s d'acc√®s au site et les r√®gles applicables √† la simulation p√©dagogique propos√©e. Elles n'ont qu'une valeur informative et ne cr√©ent pas d'obligations juridiques r√©elles entre les parties.</p>

          <p><strong>Article 2 ‚Äî D√©finitions</strong><br>
          Pour l'application des pr√©sentes : ¬´Utilisateur¬ª d√©signe toute personne acc√©dant au site ; ¬´Simulateur¬ª d√©signe l'outil technique pr√©sent sur ce site illustrant le m√©canisme des smart contracts ; ¬´Contenu¬ª d√©signe les textes, r√©f√©rences et documents affich√©s sur le site.</p>

          <p><strong>Article 3 ‚Äî Formation du consentement</strong><br>
          Conform√©ment √† l'article 23 du Code des Obligations et des Contrats (Tunisie), le contrat r√©sulte d'une rencontre d'une offre et d'une acceptation. Le bouton ¬´J'accepte¬ª mat√©rialise, dans la simulation, une manifestation de volont√© ; dans un contexte juridique r√©el, la validit√© du consentement doit √™tre appr√©ci√©e au cas par cas.</p>

          <p><strong>Article 4 ‚Äî Capacit√©</strong><br>
          L'utilisateur d√©clare avoir la capacit√© juridique requise pour utiliser le site. En cas d'absence de capacit√© (mineur, incapacit√© l√©gale), toute pr√©tendue adh√©sion serait susceptible d'√™tre annul√©e selon les r√®gles du droit tunisien.</p>

          <p><strong>Article 5 ‚Äî Objet et ex√©cution</strong><br>
          Le simulateur illustre l'ex√©cution automatique d'obligations en fonction de conditions pr√©d√©termin√©es. Il ne constitue pas une mise en ≈ìuvre d'obligations de droit r√©el ; la mat√©rialisation d'effets juridiques n√©cessite, en droit, des √©l√©ments plus exigeants (prestation, consentement √©clair√©, identit√© des parties).</p>

          <p><strong>Article 6 ‚Äî Effet obligatoire</strong><br>
          Les conventions l√©galement form√©es tiennent lieu de loi entre les parties. Pour √™tre opposables, les conventions doivent satisfaire aux conditions de validit√© (capacit√©, consentement, objet, cause) √©nonc√©es dans le Code des Obligations et des Contrats.</p>

          <p><strong>Article 7 bis ‚Äî Obligation morale de caf√©</strong><br>
          Tout utilisateur reconna√Æt l'importance de la pause-caf√© pour le bon fonctionnement du groupe. En cons√©quence, chaque acceptation emporte une obligation morale de contribuer √† la prochaine tourn√©e de caf√© ou de th√©, selon disponibilit√© des ressources √©nerg√©tiques du local.</p>

          <p><strong>Article 8 ‚Äî Donn√©es personnelles</strong><br>
          Le fonctionnement de cette d√©monstration n'implique pas le traitement syst√©matique de donn√©es personnelles. Si des donn√©es venaient √† √™tre collect√©es √† des fins p√©dagogiques, elles seraient trait√©es conform√©ment aux principes applicables en mati√®re de protection des donn√©es √† caract√®re personnel et supprim√©es apr√®s usage.</p>

          <p><strong>Article 9 bis ‚Äî Consentement implicite √† la bonne humeur</strong><br>
          L'acceptation des pr√©sentes vaut adh√©sion √† un principe g√©n√©ral de bonne humeur et de courtoisie. Le non-respect r√©p√©t√© de cette clause peut entra√Æner une r√©siliation symbolique du contrat moral d'√©quipe.</p>

          <p><strong>Article 10 ‚Äî Force majeure</strong><br>
          Aucune partie ne sera tenue responsable des manquements r√©sultant d'un cas de force majeure au sens du droit applicable (√©v√©nements impr√©visibles, irr√©sistibles et ext√©rieurs). Les cons√©quences √©ventuelles sont r√©gl√©es conform√©ment aux principes du droit tunisien.</p>

          <p><strong>Article 11 bis ‚Äî Cession de droits p√©dagogiques</strong><br>
          En cochant ¬´ J'accepte ¬ª, l'utilisateur autorise temporairement l'enseignant √† utiliser son √©tonnement comme illustration pratique de l'importance de lire les conditions g√©n√©rales avant de valider un contrat.</p>

          <p><strong>Article 12 ‚Äî Dispositions finales</strong><br>
          Toute question li√©e √† l'interpr√©tation ou √† l'application pratique des notions pr√©sent√©es doit √™tre adress√©e √† un juriste qualifi√©. Les pr√©sentes conditions peuvent √™tre mises √† jour pour tenir compte des √©volutions l√©gales et techniques ; l'utilisateur est invit√© √† consulter p√©riodiquement la version en ligne.</p>

        </div>

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fermer</button>
          <button type="button" class="btn btn-success" onclick="acceptAfterReading()">J'accepte</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // ‚úÖ Helper function to set cookies
    function setCookie(name, value, days) {
      const d = new Date();
      d.setTime(d.getTime() + (days * 24 * 60 * 60 * 1000));
      const cookie = `${name}=${value}; expires=${d.toUTCString()}; path=/; SameSite=Lax`;
      document.cookie = cookie;
      console.log(`üç™ Cookie set: ${cookie}`);
    }

    // ‚ö†Ô∏è User clicked "J'accepte" WITHOUT reading the terms
    function acceptWithoutReading() {
      console.log("‚ö†Ô∏è User accepted WITHOUT reading.");
      setCookie("acceptedWithoutReading", "true", 7);
      window.location.href = "lois.html";
    }

    // ‚úÖ User clicked "J'accepte" AFTER reading the terms in the modal
    function acceptAfterReading() {
      console.log("‚úÖ User accepted AFTER reading.");
      setCookie("acceptedWithoutReading", "false", 7);
      window.location.href = "lois.html";
    }

    // Debug: Show current cookies
    console.log("üîç Cookies on index.html:", document.cookie);
  </script>
</body>
</html>